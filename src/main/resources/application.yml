person:
  lastName: zhangsan
  age: 20
  boss: false
  birth: 2018/08/08
  maps: {k1: v1, k2: 18}
  lists:
    - wocao
    - caodan
    - rinimei
  dog:
    name: 二哈
    age: 1

# 打印加载了哪些配置没有加载哪些配置
# debug: false

# 指定log4j2的配置文件, 默认会从项目根目录找名叫log4j2-spring1.xml的配置文件
logging:
  config: classpath:log4j2-spring.xml
  level:
    cn.jay.repository: trace

# 激活dev配置文件
spring:
  profiles:
    active: dev
    # JDBC数据源
    datasource:
      # 主连接
      primary:
        username: root
        password: root
        url: jdbc:mysql://192.168.58.128:3306/ssm?serverTimezone=UTC
        # url: jdbc:mysql://localhost:3306/ssm?serverTimezone=UTC&characterEncoding=UTF-8
        driver-class-name: com.mysql.cj.jdbc.Driver
        # 如果有需求， 可以更换数据数据连接池
        type: com.alibaba.druid.pool.DruidDataSource
        # druid数据源配置， 这些配置在数据源中是没有的， 需要在配置文件类中指定
        initialSize: 5
        minIdle: 5
        maxActive: 20
        maxWait: 60000
        timeBetweenEvictionRunsMillis: 60000
        minEvictableIdleTimeMillis: 300000
        validationQuery: SELECT 1 FROM DUAL
        testWhileIdle: true
        testOnBorrow: false
        testOnReturn: false
      # Quartz连接
      quartz:
        url: jdbc:mysql://192.168.58.128:3306/quartz?serverTimezone=UTC
        # url: jdbc:mysql://localhost:3306/quartz?serverTimezone=UTC&characterEncoding=UTF-8
        driver-class-name: com.mysql.cj.jdbc.Driver
        username: root
        password: root

  quartz:
    #相关属性配置
    properties:
      org:
        quartz:
          scheduler:
            instanceName: MyScheduler
            instanceId: AUTO
          #quartz默认采用内存方式储存定时任务,这里启用jobStore设置为数据库方式。
          jobStore:
            # 数据源名称
            dataSource: quartzDataSource
            class: org.quartz.impl.jdbcjobstore.JobStoreTX
            driverDelegateClass: org.quartz.impl.jdbcjobstore.StdJDBCDelegate
            tablePrefix: QRTZ_
            isClustered: true
            clusterCheckinInterval: 10000
            useProperties: false
          threadPool:
            class: org.quartz.simpl.SimpleThreadPool
            threadCount: 10
            threadPriority: 5
            threadsInheritContextClassLoaderOfInitializingThread: true
    #数据库方式,默认memory内存, jdbc表示使用数据库
    job-store-type: memory
    #初始化表结构
    #jdbc:
    initialize-schema: never

    jpa:
      hibernate:
        ddl-auto: update
      show-sql: true
      database-platform: org.hibernate.dialect.MySQL55Dialect
      properties:
        hibernate:
          format_sql: true
          use_sql_comments: true

  redis:
    host: 192.168.58.128
    password: root
    timeToLive: 1000000 #毫秒

  # RabbitMQ相关配置
  rabbitmq:
    host: 192.168.58.128
    username: root
    password: root
    port: 5672
    virtual-host: /
    # 控制监听的并发情况
    listener:
      simple:
        acknowledge-mode: manual
        concurrency: 5
        max-concurrency: 10
  # ES Jest配置
  elasticsearch:
    jest:
      uris: http://192.168.58.128:9200

# 多环境文档块配置
---
# 开发环境配置
spring:
  profiles: dev
server:
  port: 8081
---
# 测试环境配置
spring:
  profiles: test
server:
  port: 8082
---
# 生产环境配置
spring:
  profiles: prod
server:
  port: 8083
